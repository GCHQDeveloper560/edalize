# Auto generated by Edalize
NAME := {{ name }}
OPTIONS := {{ tool_options.quartus_options|join(' ') }}
DSE_OPTIONS := {{ tool_options.dse_options|join(' ') }}

all: sta

project: $(NAME).tcl
	quartus_sh $(OPTIONS) -t $(NAME).tcl

qsys: project
{% block qsys_recipe %}
{% endblock %}

syn: qsys
	{%+ block syn_exe %}{% endblock %} $(OPTIONS) $(NAME)

fit: syn
	quartus_fit $(OPTIONS) $(NAME)

asm: fit
	quartus_asm $(OPTIONS) $(NAME)

sta: asm
	quartus_sta $(OPTIONS) $(NAME)

dse: syn
	quartus_dse $(NAME) $(DSE_OPTIONS)

netlist: sta
	quartus_eda $(NAME) --simulation --power --map_illegal_characters --tool=modelsim --format=verilog

power: netlist
	quartus_pow $(NAME) -f $(NAME).pow

clean:
	rm -rf *.* db incremental_db qdb tmp-clearbox simulation

.PHONY: all project qsys syn fit asm sta dse netlist power clean
